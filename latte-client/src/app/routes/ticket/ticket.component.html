<div class="flex flex-col gap-4 mx-auto">
  <h1 class="text-2xl font-medium text-neutral-800">Tickets</h1>

  @if (((tickets$ | async)?? []).length > 0) {
    <div class="border-[.1em] border-primary-light-300 rounded-md text-secondary-light-200">
      <section class="flex items-center justify-between">
        <div class="relative p-2">
          <div class="w-[9rem] flex items-center justify-between text-[.9rem] border-[.1em] border-primary-light-300 rounded-md bg-primary-light-100 py-1 px-2 cursor-pointer" (click)="toggleStatus()">
            <span>{{ status() }}</span>
            <fa-icon class="text-[.8rem]" [class]="{'rotate-180': statusToggle()}" [icon]="'angle-down'" />
          </div>
  
          @if (statusToggle()) {
            <div class="absolute">
              <ul class="w-[9rem] border-[.1em] border-primary-light-300 rounded-md list-none bg-primary-light-100 mt-1">
                @for (val of availableStatus; track val) {
                  @if (val !== status()) {
                    <li class="text-[.9rem] py-1 px-2 border-b-[.1em] border-primary-light-300 cursor-pointer hover:bg-primary-light-200" (click)="setStatus(val)">{{ val }}</li>
                  }
                }
              </ul>
            </div>
          }
        </div>
      </section>

      <app-list-item [tickets$]="tickets$" />
      
      <section class="flex p-2 items-center justify-end">
        <app-pagination [hasNext]="ticketPage()['next']" [hasPrev]="ticketPage()['prev']" [page]="page()" (onNext)="getNext()" (onPrev)="getPrev()"/>
      </section>
    </div>
  }
</div>
